{"version":3,"sources":["script.js"],"names":["window","onload","document","querySelector","onclick","html","body","burger","nav","classList","toggle","goTopBtn","addEventListener","scrolled","pageYOffset","coords","documentElement","clientHeight","add","remove","backToTop","scrollBy","setTimeout","getElementById","e","preventDefault","email","test","validateEmail","value","_step","_iterator","_createForOfIteratorHelper","querySelectorAll","_loop","anchor","blockID","getAttribute","substr","scrollIntoView","behavior","block","s","n","done","err","f","cats","price","img","discount","isSell","isFavorite","oldCats","_toConsumableArray","currentSort","renderCats","catsHTML","sort","a","b","i","length","concat","innerHTML","forEach","userItem","target","onchange"],"mappings":"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","file":"bundle.min.js","sourcesContent":["window.onload = function () {\r\n\tdocument.querySelector('.js-header__burger').onclick = function () {\r\n\t\tconst html = document.querySelector('html');\r\n\t\tconst body = document.querySelector('body');\r\n\t\tconst burger = document.querySelector('.js-header__burger');\r\n\t\tconst nav = document.querySelector('.js-header__nav');\r\n\t\thtml.classList.toggle('lock');\r\n\t\tbody.classList.toggle('lock');\r\n\t\tburger.classList.toggle('active');\r\n\t\tnav.classList.toggle('active');\r\n\t};\r\n//Tempesto20\r\n\t// Кнопка наверх\r\n\tfunction trackScroll() {\r\n\t\tvar scrolled = window.pageYOffset;\r\n\t\tvar coords = document.documentElement.clientHeight;\r\n\r\n\t\tif (scrolled > coords) {\r\n\t\t\tgoTopBtn.classList.add('back-to-top__show');\r\n\t\t}\r\n\t\tif (scrolled < coords) {\r\n\t\t\tgoTopBtn.classList.remove('back-to-top__show');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction backToTop() {\r\n\t\tif (window.pageYOffset > 0) {\r\n\t\t\twindow.scrollBy(0, -80);\r\n\t\t\tsetTimeout(backToTop, 0);\r\n\t\t}\r\n\t}\r\n\r\n\tvar goTopBtn = document.querySelector('.back-to-top');\r\n\r\n\twindow.addEventListener('scroll', trackScroll);\r\n\tgoTopBtn.addEventListener('click', backToTop);\r\n\r\n\t// ---------------\r\n\r\n\t// Валидация e-mail\r\n\tfunction validateEmail(email) {\r\n\t\tconst re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\t\treturn re.test(email);\r\n\t}\r\n\r\n\tdocument.getElementById('bottom__button-text').onclick = function(e) {\r\n\t\te.preventDefault();\r\n\t\tconst email = document.getElementById(\"bottom__email-2\");\r\n\r\n\t\tif (validateEmail(email.value)) {\r\n\t\t\temail.classList.remove('error');\r\n\t\t\temail.classList.add('ok');\r\n\t\t} else {\r\n\t\t\temail.classList.remove('ok');\r\n\t\t\temail.classList.add('error');\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n//Tempesto20\r\n\t// ------------------\r\n\r\n\t// Плавные якоря\r\n\tconst anchors = document.querySelectorAll('a[href*=\"#\"]')\r\n\r\n\tfor (let anchor of anchors) {\r\n\t\tanchor.addEventListener('click', function (e) {\r\n\t\t\te.preventDefault()\r\n\t\t\t\r\n\t\t\tconst blockID = anchor.getAttribute('href').substr(1);\r\n\r\n\t\t\tif (blockID !== '') {\r\n\t\t\t\tdocument.getElementById(blockID).scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'start'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t}\r\n\t// ---------------\r\n//Tempesto20\r\n\r\n\t// Сортировка\r\n\r\n\tlet cats = [\r\n\t\t{\r\n\t\t\tprice: 30000,\r\n\t\t\timg: 'img/30000.jpg',\r\n\t\t\tdiscount: 40,\r\n\t\t\tisSell: false,\r\n\t\t\tisFavorite: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tprice: 40000,\r\n\t\t\timg: 'img/40000.jpg',\r\n\t\t\tdiscount: 0,\r\n\t\t\tisSell: true,\r\n\t\t\tisFavorite: true\r\n\t\t},\r\n\t\t{\r\n\t\t\tprice: 20000,\r\n\t\t\timg: 'img/20000.jpg',\r\n\t\t\tdiscount: 0,\r\n\t\t\tisSell: false,\r\n\t\t\tisFavorite: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tprice: 25000,\r\n\t\t\timg: 'img/25000.jpg',\r\n\t\t\tdiscount: 0,\r\n\t\t\tisSell: false,\r\n\t\t\tisFavorite: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tprice: 30000,\r\n\t\t\timg: 'img/30000-1.jpg',\r\n\t\t\tdiscount: 40,\r\n\t\t\tisSell: false,\r\n\t\t\tisFavorite: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tprice: 10000,\r\n\t\t\timg: 'img/10000.jpg',\r\n\t\t\tdiscount: 0,\r\n\t\t\tisSell: true,\r\n\t\t\tisFavorite: false\r\n\t\t},\r\n\t];\r\n//Tempesto20\r\n\tconst oldCats = [...cats]; // деструктуризация массива\r\n\r\n\tlet currentSort = '';\r\n\r\n\tfunction renderCats() {\r\n\t\tlet catsHTML = ``;\r\n\r\n\t\tif (currentSort === 'cheaper') {\r\n\t\t\tcats = cats.sort(function(a, b) {\r\n\t\t\t\treturn a.price - b.price;\r\n\t\t\t});\r\n\r\n\t\t\t// cats = cats.sort((a, b) => a.price - b.price); // Упрощенный вид\r\n\t\t}\r\n\t\telse if (currentSort === 'expensive') {\r\n\t\t\tcats = cats.sort(function(a, b) {\r\n\t\t\t\treturn b.price - a.price;\r\n\t\t\t});\r\n\r\n\t\t\t// cats = cats.sort((a, b) => b.price - a.price); // Упрощенный вид\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcats = [...oldCats]; // деструктуризация массива\r\n\t\t}\r\n\t\r\n\t\tfor (let i = 0; i < cats.length; i++) {\r\n\t\r\n\t\t\tcatsHTML += `\r\n\t\t\t<div class=\"card__cat\" id=\"gallery\">\r\n\t\t\t\t<div class=\"card\">\r\n\t\t\t\t\t<div class=\"card__img\">\r\n\t\t\t\t\t\t<img src=\"${cats[i].img}\" alt=\"\" class=\"card__cat-30000\">`;\r\n\t\r\n\t\t\tif (cats[i].discount !== 0) {\r\n\t\t\t\tcatsHTML += `<div class=\"card__discount\">\r\n\t\t\t\t<p class=\"discount\">-${cats[i].discount}%</p>\r\n\t\t\t\t</div>`;\r\n\t\t\t}\r\n\r\n\t\t\tif (cats[i].isFavorite) {\r\n\t\t\t\tcatsHTML += `<div class=\"card__like\" data-like=\"${i}\">\r\n\t\t\t\t<img src=\"img/svg/like2.svg\" alt=\"\">\r\n\t\t\t\t</div>`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcatsHTML += `<div class=\"card__like\" data-like=\"${i}\">\r\n\t\t\t\t<img src=\"img/svg/like.svg\" alt=\"\">\r\n\t\t\t\t</div>`;\r\n\t\t\t}\r\n\r\n\t\t\tcatsHTML += `\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card__background\">\r\n\t\t\t\t\t\t<h2 class=\"card__title\">Кот полосатый</h2>\r\n\t\t\t\t\t\t<div class=\"card__cat-row\">\r\n\t\t\t\t\t\t\t<img src=\"img/svg/line.svg\" alt=\"\" class=\"line\">\r\n\t\t\t\t\t\t\t<p class=\"color__cat\">\r\n\t\t\t\t\t\t\t\tКоричневый\r\n\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\tокрас\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div class=\"cat_year\">\r\n\t\t\t\t\t\t\t\t<p class=\"years__cat\">\r\n\t\t\t\t\t\t\t\t\t2 мес\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"years__cat-1\">\r\n\t\t\t\t\t\t\t\t\tВозраст\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"cat__quantity\">\r\n\t\t\t\t\t\t\t\t<p class=\"old__cat\">\r\n\t\t\t\t\t\t\t\t4 \r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"quantity__cat\">\r\n\t\t\t\t\t\t\t\t\tКол-во лап\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3 class=\"price__cat\"> \r\n\t\t\t\t\t\t\t${cats[i].price} руб. \r\n\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t</div>`;\r\n\r\n\t\t\t\t\tif (cats[i].isSell) {\r\n\t\t\t\t\t\tcatsHTML += `<div class=\"buy__cat sold\">\r\n\t\t\t\t\t\t\t<a href=\"#\" class=\"byu__cat-1\">Продан</a>\r\n\t\t\t\t\t\t</div>`\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcatsHTML += `<div class=\"buy__cat\">\r\n\t\t\t\t\t\t\t<a href=\"#\" class=\"byu__cat-1\">Купить</a>\r\n\t\t\t\t\t\t</div>`\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\tcatsHTML += `</div>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\r\n\t\t\tdocument.getElementById('cat_cards').innerHTML = catsHTML;\r\n\t\t}\r\n\r\n\t\t// Избранное\r\n\r\n\t\tdocument.querySelectorAll('.card__like').forEach(function(userItem) {\r\n\t\t\tuserItem.onclick = function() {\r\n\t\t\t\tconst target = userItem.getAttribute('data-like');\r\n\t\t\t\tcats[target].isFavorite = cats[target].isFavorite ? false : true;\r\n\t\t\t\trenderCats();\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t// ---------------\r\n\t}\r\n//Tempesto20\r\n\tdocument.getElementById(\"sort_price\").onchange = function(e) {\r\n\t\tcurrentSort = e.target.value;\r\n\t\trenderCats();\r\n\t}\r\n\r\n\trenderCats();\r\n\r\n\t// ---------------\r\n};\r\n"]}